#+title: Diagrama de casos de uso
#+options: toc:nil date:nil author:nil
#+startup: latexpreview
#+attr_latex: \usepackage[table,xcdraw]{xcolor}
#+attr_latex: \usepackage{float}
#+attr_latex: \restylefloat{table}

* Integrantes

\bullet Leon Ferreira Bellini (RA: 22.218.002-8) \\
\bullet Guilherme Ormond Sampaio (RA: 22.218.007-7)

* Diagrama de caso de uso
#+begin_src plantuml :file images/caso_de_uso.png
  left to right direction
  skinparam packageStyle rectangle

  :cliente não-autenticado: as cliente
  actor atendente
  :atendente do portal: as atPortal
  atPortal <|-- atendente
  :time do pátio: as patime
  :cliente autenticado: as cladastrado
  cladastrado <|-- cliente

  rectangle "Locadora VL" {
      atendente -- (autenticação)
      (autenticação) -- cliente
      atendente -- (cadastro)
      (cadastro) -- cliente
      (validação dos documentos) -- cladastrado
      (seleção de veículo) -- cladastrado
      (pagamento) -- cladastrado
      (cadastro) .> (autenticação)  : <<extend>>
      atendente -- (categorização de atendente)
      atendente -- (verificação de pendências)
      atPortal -- (locação online)
      (locação online) -- cladastrado
      patime -- (locação online)
      atendente -- (pagamento)
      patime -- (coleta do veículo)
      (coleta do veículo) -- cladastrado
      patime -- (liberação do veículo)
      (liberação do veículo) -- cladastrado
  }
#+end_src

#+RESULTS:
[[file:images/caso_de_uso.png]]

* Fluxos
** Autenticação
#+ATTR_LaTeX: align=|c|c|c|
|-----------------+---------------------------------------------------|
| Identificação:  | UC01                                              |
|-----------------+---------------------------------------------------|
| Função          | Autenticação no sistema eletrônico                |
|-----------------+---------------------------------------------------|
| Atores:         | Atendente                                         |
|                 | Cliente não-autenticado                           |
|-----------------+---------------------------------------------------|
| Prioridade:     | Essencial                                         |
|-----------------+---------------------------------------------------|
| Pré-condição:   | Ter um cadastro                                   |
|                 | Atendente selecionado para o cliente              |
|-----------------+---------------------------------------------------|
| Pós-condição:   | Cliente pode prosseguir com o aluguel             |
|-----------------+---------------------------------------------------|
| Fluxo principal | \bullet Cliente informa suas credenciais          |
|                 | \bullet Credenciais são aceitas \left[FS01\right] |
|-----------------+---------------------------------------------------|

#+ATTR_LaTeX: align=|c|c|c|
|-------------------+------------------------------------|
| Fluxo             | \bullet Credenciais negadas        |
| secundário        | \bullet Nova tentativa de inserção |
| \left[FS01\right] |                                    |
|-------------------+------------------------------------|

** Cadastro
#+ATTR_LaTeX: align=|c|c|c|
|-----------------+---------------------------------------------|
| Identificação:  | UC02                                        |
|-----------------+---------------------------------------------|
| Função          | Registrar o cliente no sistema              |
|-----------------+---------------------------------------------|
| Atores:         | Atendente                                   |
|                 | Cliente não-autenticado                     |
|-----------------+---------------------------------------------|
| Prioridade:     | Essencial                                   |
|-----------------+---------------------------------------------|
| Pré-condição:   | Nenhuma                                     |
|-----------------+---------------------------------------------|
| Pós-condição:   | Cliente pode prosseguir para a autenticação |
|-----------------+---------------------------------------------|
| Fluxo principal | \bullet Cliente informa seu nome            |
|                 | \bullet Cliente informa seu CPF             |
|                 | \bullet Cliente informa o número de sua CNH |
|                 | \bullet Cliente informa uma senha           |
|                 | \bullet Cliente confere as informações      |
|-----------------+---------------------------------------------|
** Validação de documentos
#+ATTR_LaTeX: align=|c|c|c|
|-----------------+-----------------------------------------------------------|
| Identificação:  | UC03                                                      |
|-----------------+-----------------------------------------------------------|
| Função          | Verificar a veracidade e validade dos documentos pelo OCR |
|-----------------+-----------------------------------------------------------|
| Atores:         | Cliente                                                   |
|-----------------+-----------------------------------------------------------|
| Prioridade:     | Essencial                                                 |
|-----------------+-----------------------------------------------------------|
| Pré-condição:   | Cliente autenticado                                       |
|-----------------+-----------------------------------------------------------|
| Pós-condição:   | Cliente pode prosseguir para seleção do veículo           |
|-----------------+-----------------------------------------------------------|
| Fluxo principal | \bullet Insere os documentos exigidos pelo sistema        |
|                 | \bullet Os ducumentos estão em dia \left[FS02\right]      |
|-----------------+-----------------------------------------------------------|

#+ATTR_LaTeX: align=|c|c|c|
|-------------------+------------------------------------------|
| Fluxo             | \bullet Documentos inválidos             |
| secundário        | \bullet Cliente é impedido de prosseguir |
| \left[FS02\right] |                                          |
|-------------------+------------------------------------------|

** Verificação de pendências
#+ATTR_LaTeX: align=|c|c|c|
|-----------------+-------------------------------------------------------------|
| Identificação:  | UC04                                                        |
|-----------------+-------------------------------------------------------------|
| Função          | Verificar se o cliente possui outros veículos alugados      |
|                 | ou dívidas não pagas                                        |
|-----------------+-------------------------------------------------------------|
| Atores:         | Atendente                                                   |
|-----------------+-------------------------------------------------------------|
| Prioridade:     | Essencial                                                   |
|-----------------+-------------------------------------------------------------|
| Pré-condição:   | Cliente autenticado                                         |
|-----------------+-------------------------------------------------------------|
| Pós-condição:   | Cliente pode prosseguir para seleção veículo                |
|-----------------+-------------------------------------------------------------|
| Fluxo principal | \bullet Atendente checa o histórico do cliente              |
|                 | \bullet Atendente não encontra pendências \left[FS03\right] |
|-----------------+-------------------------------------------------------------|

#+ATTR_LaTeX: align=|c|c|c|
|-------------------+------------------------------------------|
| Fluxo             | \bullet Cliente possui pendências        |
| secundário        | \bullet Cliente é impedido de prosseguir |
| \left[FS03\right] |                                          |
|-------------------+------------------------------------------|
** Seleção de veículo
#+ATTR_LaTeX: :align=|c|c|c|
|-----------------+----------------------------------------------------------------------|
| Identificação:  | UC05                                                                 |
|-----------------+----------------------------------------------------------------------|
| Função          | Selecionar qual veículo será alugado                                 |
|-----------------+----------------------------------------------------------------------|
| Atores:         | Cliente autenticado                                                  |
|-----------------+----------------------------------------------------------------------|
| Prioridade:     | Essencial                                                            |
|-----------------+----------------------------------------------------------------------|
| Pré-condição:   | Cliente não possui pendências                                        |
|                 | Documentos do cliente são válidos                                    |
|-----------------+----------------------------------------------------------------------|
| Pós-condição:   | Cliente segue para o pagamento                                       |
|-----------------+----------------------------------------------------------------------|
| Fluxo principal | \bullet Cliente verifica lista de categorias de veículos disponíveis |
|                 | \bullet Cliente seleciona categoria desejada \left[FS04\right]       |
|-----------------+----------------------------------------------------------------------|

#+ATTR_LaTeX: align=|c|c|c|
|-------------------+---------------------------------------------|
| Fluxo             | \bullet Categoria não disponível            |
| secundário        | \bullet Cliente recebe upgrade de categoria |
| \left[FS04\right] |                                             |
|-------------------+---------------------------------------------|

** Pagamento
#+ATTR_LaTeX: :align=|c|c|c|
|-----------------+-----------------------------------------------------------------|
| Identificação:  | UC06                                                            |
|-----------------+-----------------------------------------------------------------|
| Função          | Escolha e realização do método de pagamento                     |
|-----------------+-----------------------------------------------------------------|
| Atores:         | Cliente autenticado                                             |
|                 | Atendente                                                       |
|-----------------+-----------------------------------------------------------------|
| Prioridade:     | Essencial                                                       |
|-----------------+-----------------------------------------------------------------|
| Pré-condição:   | Veículo selecionado                                             |
|-----------------+-----------------------------------------------------------------|
| Pós-condição:   | Cliente segue para a coleta do veículo                          |
|-----------------+-----------------------------------------------------------------|
| Fluxo principal | \bullet Atendente verifica se cliente é elegível para promoções |
|                 | \left[FS05\right] \left[FS06\right] \left[FS07\right]           |
|                 | \bullet Cliente seleciona método de pagamento                   |
|                 | \bullet Cliente escolhe pagamento por cartão \left[FS09\right]  |
|                 | \bullet Cliente insere o cartão                                 |
|                 | \bullet Cliente digita senha                                    |
|                 | \bullet Pagamento é aprovado \left[FS10\right]                  |
|                 | \bullet Nota fiscal é gerada                                    |
|-----------------+-----------------------------------------------------------------|

#+ATTR_LaTeX: align=|c|c|c|
|-------------------+------------------------------------------------|
| Fluxo             | \bullet Prazo do aluguel é mensal ou quinzenal |
| secundário        | \bullet Cliente recebe desconto de 6%          |
| \left[FS05\right] |                                                |
|-------------------+------------------------------------------------|

#+ATTR_LaTeX: align=|c|c|c|
|-------------------+---------------------------------------------------|
| Fluxo             | \bullet Cliente está no top 10 de clientes do mês |
| secundário        | \bullet Cliente recebe desconto de 12.5%          |
| \left[FS06\right] |                                                   |
|-------------------+---------------------------------------------------|

#+ATTR_LaTeX: align=|c|c|c|
|-------------------+-------------------------------------------------------------------|
| Fluxo             | \bullet Cliente é fidelizado ou aniversariante                    |
| secundário        | \bullet Cliente não recebeu upgrade previamente \left[FS08\right] |
| \left[FS07\right] | \bullet Cliente recebe upgrade de categoria de veículo            |
|-------------------+-------------------------------------------------------------------|

#+ATTR_LaTeX: align=|c|c|c|
|-------------------+------------------------------------------------|
| Fluxo             | \bullet Cliente já recebeu upgrade previamente |
| secundário        | \bullet Cliente não recebe outro upgrade       |
| \left[FS08\right] |                                                |
|-------------------+------------------------------------------------|

#+ATTR_LaTeX: align=|c|c|c|
|-------------------+------------------------------------------------------------|
| Fluxo             | \bullet Cliente escolhe pagamento por PIX                  |
| secundário        | \bullet Cliente lê código QR                               |
| \left[FS09\right] | \bullet Cliente confirma a transferência \left[FS10\right] |
|                   | \bullet Gerada nota promissória                            |
|-------------------+------------------------------------------------------------|

#+ATTR_LaTeX: align=|c|c|c|
|-------------------+--------------------------------------------------------|
| Fluxo             | \bullet Pagamento é reprovado                          |
| secundário        | \bullet Cliente é impedido de prosseguir com o aluguel |
| \left[FS10\right] |                                                        |
|-------------------+--------------------------------------------------------|

** Liberação do veículo
|-----------------+--------------------------------------------------------|
| Identificação:  | UC07                                                   |
|-----------------+--------------------------------------------------------|
| Função          | Permitir a coleta do veículo pelo cliente              |
|-----------------+--------------------------------------------------------|
| Atores:         | Time do pátio                                          |
|                 | Cliente autenticado                                    |
|-----------------+--------------------------------------------------------|
| Prioridade:     | Essencial                                              |
|-----------------+--------------------------------------------------------|
| Pré-condição:   | Pagamento realizado pelo cliente                       |
|-----------------+--------------------------------------------------------|
| Pós-condição:   | Cliente retira o veículo                               |
|-----------------+--------------------------------------------------------|
| Fluxo principal | \bullet Time do pátio localiza veículo solicitado      |
|                 | \bullet Time do pátio prepara o veículo                |
|                 | \bullet Time do pátio manobra o veículo para o cliente |
|-----------------+--------------------------------------------------------|
** Coleta do veículo
|------------------+-----------------------------------------------------------------------|
| Identificação:   | UC08                                                                  |
|------------------+-----------------------------------------------------------------------|
| Função:          | Recebimento do veículo após encerramento do aluguel                   |
|------------------+-----------------------------------------------------------------------|
| Atores:          | Time do pátio                                                         |
|                  | Cliente autenticado                                                   |
|------------------+-----------------------------------------------------------------------|
| Prioridade:      | Essencial                                                             |
|------------------+-----------------------------------------------------------------------|
| Pré-condição:    | Liberação do veículo                                                  |
|------------------+-----------------------------------------------------------------------|
| Pós-condição:    | Nenhuma                                                               |
|------------------+-----------------------------------------------------------------------|
| Fluxo principal: | \bullet Time do pátio aborda cliente                                  |
|                  | \bullet Time do pátio verifica condições do veículo \left[FS07\right] |
|                  | \bullet Time do pátio verifica presença de pertences no veículo       |
|                  | \bullet Time do pátio registra recebimento e encerramento             |
|                  | \bullet Time do pátio manobra o veículo                               |
|------------------+-----------------------------------------------------------------------|

|-------------------+-------------------------------------|
| Fluxo             | \bullet Veículo em más condições    |
| secundário        | \bullet Time do pátio aciona seguro |
| \left[FS11\right] |                                     |
|-------------------+-------------------------------------|

** Locação online
|-----------------+-------------------------------------------------------------------|
| Identificação:  | UC09                                                              |
|-----------------+-------------------------------------------------------------------|
| Função          | Realizar o aluguel pelo portal virtual                            |
|-----------------+-------------------------------------------------------------------|
| Atores:         | Atendente do portal                                               |
|                 | Time do pátio                                                     |
|                 | Cliente autenticado                                               |
|-----------------+-------------------------------------------------------------------|
| Prioridade:     | Essencial                                                         |
|-----------------+-------------------------------------------------------------------|
| Pré-condição:   | Cliente possuir cadastro                                          |
|-----------------+-------------------------------------------------------------------|
| Pós-condição:   | Retirada do veículo                                               |
|-----------------+-------------------------------------------------------------------|
| Fluxo principal | \bullet Cliente se autentica no portal                            |
|                 | \bullet Atendente do portal verifica documentos \left[FS02\right] |
|                 | \bullet Atendente do portal verifica pendências \left[FS03\right] |
|                 | \bullet Cliente seleciona categoria de veículo \left[FS04\right]  |
|                 | \bullet Portal verifica se cliente é elegível para promoções      |
|                 | \left[FS05\right] \left[FS06\right] \left[FS07\right]             |
|                 | \bullet Cliente realiza pagamento por API                         |
|                 | \bullet Time do pátio é notificado do agendamento                 |
|-----------------+-------------------------------------------------------------------|
** Categorização de atendente
|-----------------+---------------------------------------------------------------------|
| Identificação:  | UC10                                                                |
|-----------------+---------------------------------------------------------------------|
| Função          | Selecionar o atendente apropriado ao cliente                        |
|-----------------+---------------------------------------------------------------------|
| Atores:         | Atendente                                                           |
|-----------------+---------------------------------------------------------------------|
| Prioridade:     | Essencial                                                           |
|-----------------+---------------------------------------------------------------------|
| Pré-condição:   | Chegada de cliente                                                  |
|-----------------+---------------------------------------------------------------------|
| Pós-condição:   | Atender o cliente                                                   |
|-----------------+---------------------------------------------------------------------|
| Fluxo principal | \bullet Atendente verifica histórico de aluguéis do cliente         |
|                 | \bullet Cliente possui valores de aluguéis baixos \left[FS12\right] |
|                 | \bullet É atribuído um atendente de menor desempenho em vendas      |
|-----------------+---------------------------------------------------------------------|

|-------------------+-------------------------------------------------------------------------|
| Fluxo             | \bullet Cliente possui valores de aluguéis altos                        |
| secundário        | \bullet É atribuído um atendente de desempenho aceitável aleatoriamente |
| \left[FS12\right] |                                                                         |
|-------------------+-------------------------------------------------------------------------|
